動かなかった理由ですが、メタマスクのウォレットの取得に失敗しているのかな？と思ったところまででギブアップしてます
平山さんのコードと自分が拾ってきたコードでaccountsの情報の取得部分の記述が違っており、そこが影響しているのかも？って所に気がついた所でギブアップしてます

それとは別のサンプルも見つけたので、Yama-Yum_Web3/contracts/testtodo/にソースを入れておきました。
ひとまずサンプルのtodoコードもデプロイしてcontract.jsにabiとcontractAddressも入れてありますので、もし余裕ありそうならTOP階層にもっていって動くか試してもらいたいです

懸念点が1点だけありまして、main.js 内の３～４行目に記載されている↓は修正がいるかもです
//Ganacheのデフォルトのポート番号は7545
const web3 = new Web3(Web3.givenProvider || "http://localhost:7545");
たぶんテストネットのポート番号の指定をしてると思うんですが、うちらはセポリアを使っているので、セポリアを読める状態にもしかしたらしないといけないのかなと思いました。

眠気で頭が回ってないので、支離滅裂な文章になってたらすんません

